<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TruthGuard ‚Äì Demo Mode</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: radial-gradient(circle at top, #0f172a, #020617);
  color: #e5e7eb;
}

.container {
  max-width: 900px;
  margin: auto;
  padding: 50px 20px;
}

h1 {
  text-align: center;
  font-size: 48px;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  margin-bottom: 40px;
}

.card {
  background: rgba(15, 23, 42, 0.85);
  border: 1px solid rgba(148,163,184,0.15);
  border-radius: 18px;
  padding: 30px;
  margin-bottom: 30px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.4);
}

textarea, input[type=file] {
  width: 100%;
  padding: 14px;
  border-radius: 12px;
  border: none;
  font-size: 15px;
  background: #020617;
  color: #e5e7eb;
}

button {
  width: 100%;
  padding: 14px;
  border-radius: 12px;
  border: none;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  margin-top: 15px;
}

.primary {
  background: linear-gradient(135deg, #22c55e, #16a34a);
  color: #022c22;
}

.secondary {
  background: rgba(148,163,184,0.1);
  color: #e5e7eb;
}

.row {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}

.result {
  margin-top: 20px;
  padding: 20px;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.2);
  background: rgba(2,6,23,0.8);
}

.low { color: #22c55e; }
.medium { color: #facc15; }
.high { color: #ef4444; }

.badge {
  display: inline-block;
  padding: 6px 14px;
  border-radius: 999px;
  font-weight: bold;
  margin-bottom: 10px;
}

.low-b { background: rgba(34,197,94,0.2); color: #22c55e; }
.medium-b { background: rgba(250,204,21,0.2); color: #facc15; }
.high-b { background: rgba(239,68,68,0.2); color: #ef4444; }

.progress {
  height: 10px;
  border-radius: 999px;
  background: rgba(148,163,184,0.2);
  overflow: hidden;
  margin: 10px 0;
}

.progress-fill {
  height: 100%;
}

.note {
  font-size: 13px;
  color: #94a3b8;
  margin-top: 10px;
}
</style>
</head>

<body>
<div class="container">

<h1>TruthGuard</h1>
<p class="subtitle">
Demo Mode ¬∑ Transparent credibility analysis using rule-based logic
</p>

<!-- TEXT CREDIBILITY -->
<div class="card">
  <h2>üìù Text Credibility Analysis</h2>

  <textarea id="textInput"
    placeholder="Paste news or social media content here..."></textarea>

  <button class="primary" onclick="analyzeText()">
    Analyze Text
  </button>

  <div class="row">
    <button class="secondary" onclick="demoLow()">Demo Low</button>
    <button class="secondary" onclick="demoMedium()">Demo Medium</button>
    <button class="secondary" onclick="demoHigh()">Demo High</button>
  </div>

  <div id="textResult" class="result" style="display:none;"></div>

  <p class="note">
    Demo mode uses frontend rule-based logic. Backend implementation available separately.
  </p>
</div>

<!-- MEDIA DETECTION -->
<div class="card">
  <h2>üñºÔ∏è AI Image & Video Detection</h2>

  <input type="file" onchange="demoMedia()">

  <div id="mediaResult" class="result" style="display:none;"></div>

  <p class="note">
    Media detection shown for demonstration purposes.
  </p>
</div>

</div>

<script>
function renderResult(level, confidence, reasons, crisis=false) {
  const color = confidence < 35 ? "#22c55e" :
                confidence < 65 ? "#facc15" : "#ef4444";

  return `
    <span class="badge ${level.toLowerCase()}-b">
      ${level} Credibility
    </span>

    <div class="progress">
      <div class="progress-fill" style="width:${confidence}%; background:${color}"></div>
    </div>

    <ul>${reasons.map(r => `<li>${r}</li>`).join("")}</ul>

    ${crisis ? "<p class='note'>‚ö† Crisis-related content detected</p>" : ""}
  `;
}

/* ---------- ANALYZE TEXT (DYNAMIC, NO BACKEND) ---------- */
function analyzeText() {
  const text = document.getElementById("textInput").value.toLowerCase();
  const box = document.getElementById("textResult");

  box.style.display = "block";

  const sensationalWords = [
    "breaking", "shocking", "viral",
    "share this", "share fast", "urgent"
  ];

  const denialPhrases = [
    "no official source",
    "not confirmed",
    "unverified",
    "rumor"
  ];

  const officialSources = [
    "official government",
    "government press",
    "ministry of",
    "official press release",
    "verified government",
    "source: official",
    "source: government"
  ];

  const isSensational = sensationalWords.some(w => text.includes(w));
  const noConfirmation = denialPhrases.some(p => text.includes(p));
  const hasSource = text.includes("source:");
  const hasOfficial = officialSources.some(o => text.includes(o));

  let level = "Medium";
  let confidence = 48;
  let reasons = [];

  if (isSensational && (noConfirmation || !hasSource)) {
    level = "Low";
    confidence = 15;
    reasons = [
      "Sensational language detected",
      "No official confirmation mentioned",
      "No clear source provided"
    ];
  } 
  else if (hasOfficial && !isSensational) {
    level = "High";
    confidence = 82;
    reasons = [
      "Official government source cited",
      "Information aligns with verified records"
    ];
  } 
  else {
    level = "Medium";
    confidence = 48;
    reasons = [
      "Partial or unclear source mentioned",
      "Information not fully verified"
    ];
  }

  box.innerHTML = renderResult(level, confidence, reasons);
}

/* ---------- DEMO BUTTONS ---------- */
function demoLow() {
  document.getElementById("textResult").style.display = "block";
  document.getElementById("textResult").innerHTML =
    renderResult(
      "Low",
      15,
      [
        "Sensational language detected",
        "No verified source mentioned",
        "Urgency manipulation observed"
      ],
      true
    );
}

function demoMedium() {
  document.getElementById("textResult").style.display = "block";
  document.getElementById("textResult").innerHTML =
    renderResult(
      "Medium",
      48,
      [
        "Partial source mentioned",
        "Information not fully verified"
      ]
    );
}

function demoHigh() {
  document.getElementById("textResult").style.display = "block";
  document.getElementById("textResult").innerHTML =
    renderResult(
      "High",
      82,
      [
        "Official government source cited",
        "Matches verified public records"
      ]
    );
}

/* ---------- MEDIA DEMO ---------- */
function demoMedia() {
  document.getElementById("mediaResult").style.display = "block";
  document.getElementById("mediaResult").innerHTML =
    renderResult(
      "Low",
      18,
      [
        "Natural noise patterns detected",
        "Consistent edge distribution",
        "No strong synthetic artifacts"
      ]
    );
}
</script>

</body>
</html>